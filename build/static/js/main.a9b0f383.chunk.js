(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,n,t){e.exports=t(46)},46:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(14),c=t.n(o),u=t(2),l=function(e){var n=e.addPerson,t=e.newName,a=e.handleNameChange,o=e.newNumber,c=e.handleNumberChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:o,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},i=function(e){var n=e.personsToShow,t=e.removePerson;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,e.name,"  ",e.number),r.a.createElement("button",{onClick:function(){return t(e)}},"delete"))})))},m=function(e){var n=e.newSearch,t=e.handleSearchChange;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},d=function(e){var n=e.message,t=e.messageType;return console.log(t),"normal"===t?r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n):"error"===t?r.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n):null},s=t(3),f=t.n(s),h="/api/persons",b=function(){return f.a.get(h).then((function(e){return e.data}))},g=function(e){return f.a.post(h,e).then((function(e){return e.data}))},v=function(e){return f.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},E=function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},p=t(15),w=t.n(p),S=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(u.a)(c,2),f=s[0],h=s[1],p=Object(a.useState)(""),S=Object(u.a)(p,2),O=S[0],j=S[1],y=Object(a.useState)(""),C=Object(u.a)(y,2),N=C[0],k=C[1],T=Object(a.useState)(""),P=Object(u.a)(T,2),D=P[0],I=P[1],B=Object(a.useState)(""),z=Object(u.a)(B,2),J=z[0],L=z[1];Object(a.useEffect)((function(){b().then((function(e){o(e)}))}),[]);var R=N?t.filter((function(e){return e.name.toLowerCase().startsWith(N.toLowerCase())})):t;return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(d,{message:D,messageType:J}),r.a.createElement(m,{newSearch:N,handleSearchChange:function(e){k(e.target.value)}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(l,{addPerson:function(e){e.preventDefault();var n,a=!1;if(t.forEach((function(e){e.name===f&&(a=!0,n=e.id)})),a){var r={number:O,name:f,date:(new Date).toISOString()};E(n,r).then((function(e){o(t.map((function(t){return t.id!==n?t:e}))),h(""),j("")}))}else{var c={name:f,number:O,date:(new Date).toISOString(),id:w.a.generate()};g(c).then((function(e){o(t.concat(c)),I("Added '".concat(f,"'")),L("normal"),h(""),j(""),setTimeout((function(){L(""),I("")}),5e3)}))}},newName:f,handleNameChange:function(e){h(e.target.value)},newNumber:O,handleNumberChange:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{personsToShow:R,removePerson:function(e){console.log(e),window.confirm("Do you want to delete ".concat(e.id))&&v(e.id).then((function(e){b().then((function(e){o(e)}))})).catch((function(n){L("error"),I("Information of ".concat(e.name," was already removed from server")),setTimeout((function(){L(""),I("")}),5e3),o(t.filter((function(n){return n.id!==e.id})))}))}}))};c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a9b0f383.chunk.js.map